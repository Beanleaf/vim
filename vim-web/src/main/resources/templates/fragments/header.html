<!DOCTYPE HTML>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">
<!--/*@thymesVar id="activeUser" type="be.vizit.vim.domain.entities.User"*/-->
<head th:fragment="htmlHead" th:remove="tag">
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="ie=edge" http-equiv="X-UA-Compatible">
  <title th:text="#{application.title} + ' - ' + #{application.subtitle}">
    application.title - application.subtitle
  </title>
  <link rel="stylesheet" th:href="@{/css/vim.css}"/>
  <link rel="stylesheet" th:href="@{/webjars/octicons/4.3.0/build/font/octicons.css}"/>
  <link rel="icon" th:href="@{/favicon.ico}"/>
</head>

<section th:fragment="baseElements">
  <!--/*@thymesVar id="toastMessage" type="be.vizit.vim.app.utils.ToastMessage"*/-->
  <div th:if="${toastMessage}" class="p-1 position-fixed bottom-0 left-0 mb-3 ml-3">
    <div class="Toast Toast--animateIn"
         th:classappend="'Toast--' + ${toastMessage.getType().getCssClass()}">
      <span class="Toast-icon"><i class="octicon"
                                  th:classappend="'octicon-' + ${toastMessage.getType().getIconClass()}"></i></span>
      <span class="Toast-content" th:text="#{${toastMessage.getMessagePropertie()}}">toastMessage.getMessage()</span>
      <button th:if="${toastMessage.isCloseable()}" class="Toast-dismissButton js-toast-close"><i
          class="octicon octicon-x"></i></button>
    </div>
  </div>

  <!--/*@thymesVar id="feedbackmessage" type="be.vizit.vim.app.utils.Feedbackmessage"*/-->
  <div class="flash position-fixed top-0 m-3 z-99" th:if="${feedbackmessage}"
       th:classappend="'flash-' + ${feedbackmessage.getType().getCssClass()}">
    <button class="flash-close js-flash-close" th:if="${feedbackmessage.isCloseable()}"
            type="button"><i class="octicon octicon-x"></i></button>
    <p>
      <i class="octicon"
         th:classappend="'octicon-' + ${feedbackmessage.getType().getIconClass()}"></i>
      <span th:text="${feedbackmessage.getMessage()}">Feedback message</span>
    </p>
    <pre th:if="${feedbackmessage.getStackTrace()}"><code
        th:text="${feedbackmessage.getStackTrace()}"></code></pre>
  </div>
</section>

<!-- Navigation -->
<header class="topbar p-responsive d-flex flex-justify-between flex-items-center"
        th:fragment="topBar">
  <div class="text-white">
    <i class="logo octicon octicon-repo-clone"></i>
  </div>
  <div class="search mx-3">
    <form>
      <input class="form-control input-block input-sm"
             th:placeholder="#{navigation.search.placeholder}"
             type="text"/>
    </form>
  </div>
  <nav class="navigation flex-auto text-left">
    <a class="navlink" th:href="@{/}" th:text="#{navigation.home}">navigation.home</a>
    <a class="navlink" sec:authorize="hasAuthority('ADMIN')" th:href="@{/admin/inventory}"
       th:text="#{navigation.inventoryManagement}">navigation.inventoryManagement</a>
    <a class="navlink" sec:authorize="hasAuthority('ADMIN')" th:href="@{/admin/users}"
       th:text="#{navigation.userManagement}">navigation.userManagement</a>
  </nav>
  <div class="userutils text-right">
    <a class="navlink" th:href="@{/login}" th:if="!${activeUser}" th:text="#{navigation.login}">navigation.login</a>
    <div th:if="${activeUser}">
      <span class="position-relative pr-2 text-white" th:text="${activeUser.getShortName()}">activeUser.getShortName()</span>
      <a th:href="@{/logout}" class="btn-icon text-white" th:label="#{navigation.logout}">
        <i class="octicon octicon-sign-out"></i>
      </a>
    </div>
  </div>
</header>

</html>